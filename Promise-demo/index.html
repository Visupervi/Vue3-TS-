<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  function Fn() {

  }

  console.log(Fn.prototype)
  // 回调函数
  // 同步回调函数，立即执行
  // 异步回调函数，不会立即执行


  function fun(callback) {
    callback()
  }

  function funAsync(cb) {
    setTimeout(() => {
      cb()
    }, 1000)
  }
  // const arr = [1, 2, 3, 4, 5]
  // let p = new Promise((resolve, reject) => { // 执行器函数，同步执行
  //   // resolve(res => {
  //   console.log("promise")
  //   // resolve()

  //   // setTimeout(() => {
  //   const time = Date.now()
  //   if (time % 2 === 0) {
  //     resolve("执行成功，time=" + time);
  //   } else {
  //     reject("执行失败，time=" + time);
  //   }
  //   // }, 1500)
  //   // })
  // })
  // Promise.resolve(res => {
  // console.log("res")
  // })
  // arr.forEach(item => {
  //   console.log('item=', item)
  // })

  // console.log("foreach之后")


  // p.then(
  //   value => {
  //     console.log("成功的回调\n", value)
  //     return new Promise(() => {})
  //   },
  //   reason => {
  //     console.log("失败的回调\n", reason)
  //   })
  //   .then(
  //     value => {
  //       console.log("成功的回调1\n", value)
  //     },
  //     reason => {
  //       console.log("失败的回调1\n", reason)
  //     }
  //   )

  // // setTimeout(() => {
  // console.log("setTimeout")
  // }, 0)
</script>
<!-- <script src="./promise_demo.js"></script> -->
<script src="./myPromise.js"></script>
<script>
  let pp = new Promise(function (resolve, reject) {
    // console.log("myPromise")
    setTimeout(() => {
      reject(1)
      // console.log("23233232323")
    }, 1000)
  })

  // console.log("myPromise1")
  // pp.then(value =>{
  //   // console.log("myPromise resolve2")
  //   console.log("onResolved()", value)
  // },reason => {
  //   // console.log("myPromise reject2")
  //   console.log("onRejected()", reason)

  //   return new Promise((resolve, reject) => reject(10))
  // }).then(value =>{
  //   // console.log("myPromise2 resolve2")
  //   console.log("onResolved1()", value)
  // },reason => {
  //   // console.log("myPromise2 reject2")
  //   console.log("onRejected1()", reason)
  // })

  // pp.then(value =>{
  //   // console.log("myPromise2 resolve2")
  //   console.log("onResolved1()", value)
  // },reason => {
  //   // console.log("myPromise2 reject2")
  //   console.log("onRejected1()", reason)
  // })
  let p = Promise.resolve(111)
  let p1 = Promise.resolve(Promise.resolve(2222))
  let p12 = new Promise((resolve) => {
    setTimeout(() => {
      resolve(1212121221212)
    }, 1000)
  })

  // p.then(value => {
  //   console.log('value', value)
  // })
  // p1.then(value => {
  //   console.log('value', value)
  // })
  const pAll = Promise.all([p1, p, p12])

  pAll.then(value => {
    console.log("value", value)
  })

  const pRace = Promise.race([p1, p, p12])

  pRace.then(value => {
    console.log("value", value)
  })
</script>

</html>